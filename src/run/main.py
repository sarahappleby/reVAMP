
class Main():

	def init(data: Spectrum)

	do preprocessing

	for each region:
		do the fitting
		compute physical quantities
		append to list of absorption features
		compute total absorption

	so the spectrum will end up with a list of absorption features and a total absorption object